OBJECTS = AsyncLog_test.o AsyncLog.o Logging.o LogStream.o \
			LogFile.o FileUtil.o CurrentThread.o timeUtils.o \
			Thread.o CountDownLatch.o

vpath %.cpp /home/daydayup/wserver : /home/daydayup/wserver/base
vpath %.h /home/daydayup/wserver : /home/daydayup/wserver/base

AsyncLog_test : $(OBJECTS) \ 
	g++ -o AsyncLog_test $(OBJECTS) -g -Wall -std=c++2a

AsyncLog_test.o : AsyncLog_test.cpp ../AsyncLog.h ../Logging.h
	g++ -c AsyncLog_test.cpp -std=c++2a -g

AsyncLog.o : ../AsyncLog.cpp ../AsyncLog.h ../LogFile.h ../timeUtils.h
	g++ -c ../AsyncLog.cpp -std=c++2a -g 

Logging.o : ../Logging.cpp ../Logging.h ../CurrentThread.h ../timeUtils.h
	g++ -c ../Logging.cpp -std=c++2a -g

LogStream.o : ../LogStream.cpp ../LogStream.h
	g++ -c ../LogStream.cpp -std=c++2a -g

LogFile.o : ../LogFile.cpp ../LogFile.h ../FileUtil.h
	g++ -c ../LogFile.cpp -std=c++2a -g

FileUtil.o : ../FileUtil.cpp ../FileUtil.h
	g++ -c ../FileUtil.cpp -std=c++2a -g

CurrentThread.o : ../CurrentThread.cpp ../CurrentThread.h
	g++ -c ../CurrentThread.cpp -std=c++2a -g

timeUtils.o : ../timeUtils.cpp ../timeUtils.h
	g++ -c ../timeUtils.cpp -std=c++2a -g


.PHONY : clean
clean :
	-rm -rf AsyncLog_test $(OBJECTS)